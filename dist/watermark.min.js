!function t(n,e,r){function u(o,a){if(!e[o]){if(!n[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=e[o]={exports:{}};n[o][0].call(l.exports,function(t){var e=n[o][1][t];return u(e?e:t)},l,l.exports,t,n,e,r)}return e[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)u(r[o]);return u}({1:[function(t,n,e){"use strict";function r(t,n,e){return e||(e=o(t,n)),{dataUrl:function(e){var u=this.then(a).then(f(e)).then(l);return r(t,n,u)},load:function(t){var n=function(n,e){return t.apply(this,arguments)};return n.toString=function(){return t.toString()},n}(function(t,n){var e=this.then(function(e){return o([e].concat(t),n)});return r(t,n,e)}),render:function(){var e=this.then(function(t){return o([t])});return r(t,n,e)},blob:function(e){var u=this.dataUrl(e).then(s);return r(t,n,u)},image:function(e){var u=this.dataUrl(e).then(c);return r(t,n,u)},then:function(){for(var t=arguments.length,n=Array(t),r=0;t>r;r++)n[r]=arguments[r];return e.then.apply(e,n)}}}var u=function(t){return t&&t.__esModule?t:{"default":t}};e.watermark=r,Object.defineProperty(e,"__esModule",{value:!0});var i=t("./lib/image"),o=i.load,a=i.mapToCanvas,c=i.createImage,f=t("./lib/functions").invoker,l=t("./lib/canvas").dataUrl,s=t("./lib/blob").blob,d=u(t("./lib/style"));r.image=d.image,r.text=d.text,window.watermark=r},{"./lib/blob":2,"./lib/canvas":3,"./lib/functions":4,"./lib/image":5,"./lib/style":7}],2:[function(t,n,e){"use strict";function r(t){return a.exec(t).slice(1)}function u(t){return window.atob(t)}function i(t){for(var n=t.length,e=new Uint8Array(n),r=0;n>r;r++)e[r]=t.charCodeAt(r);return e}e.split=r,e.decode=u,e.uint8=i,Object.defineProperty(e,"__esModule",{value:!0});var o=t("../functions").sequence,a=/^data:([^;]+);base64,(.*)$/,c=o(r,function(t){return[u(t[1]),t[0]]},function(t){return new Blob([i(t[0])],{type:t[1]})});e.blob=c},{"../functions":4}],3:[function(t,n,e){"use strict";function r(t){return t.toDataURL()}e.dataUrl=r,Object.defineProperty(e,"__esModule",{value:!0})},{}],4:[function(t,n,e){"use strict";function r(t){return function(n){return t.apply(null,n)}}function u(){for(var t=arguments.length,n=Array(t),e=0;t>e;e++)n[e]=arguments[e];return function(t){var e=!0,r=!1,u=void 0;try{for(var i,o=n[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;t=a.call(null,t)}}catch(c){r=!0,u=c}finally{try{!e&&o["return"]&&o["return"]()}finally{if(r)throw u}}return t}}function i(t){return t}e.invoker=r,e.sequence=u,e.identity=i,Object.defineProperty(e,"__esModule",{value:!0})},{}],5:[function(t,n,e){"use strict";function r(t,n,e){t.src=n,e(t)}function u(t){var n=typeof t;return"string"===n?o:t instanceof Image?s:a}function i(t,n){for(var e=[],r=0;r<t.length;r++){var i=t[r],o=u(i),a=o(i,n);e.push(a)}return Promise.all(e)}function o(t,n){var e=new Image;return"function"==typeof n&&n(e),new Promise(function(n){e.onload=function(){return n(e)},e.src=t})}function a(t){var n=new FileReader;return new Promise(function(e){var u=new Image;n.onloadend=function(){return r(u,n.result,e)},n.readAsDataURL(t)})}function c(t,n){var e=new Image;return"function"==typeof n&&(e.onload=n),e.src=t,e}function f(t){var n=document.createElement("canvas"),e=n.getContext("2d");return n.width=t.width,n.height=t.height,e.drawImage(t,0,0),n}function l(t){return t.map(f)}e.getLoader=u,e.load=i,e.loadUrl=o,e.loadFile=a,e.createImage=c,e.imageToCanvas=f,e.mapToCanvas=l,Object.defineProperty(e,"__esModule",{value:!0});var s=t("../functions").identity},{"../functions":4}],6:[function(t,n,e){"use strict";function r(t,n,e){return e||(e=1),function(r,u){var i=r.getContext("2d");return i.save(),i.globalAlpha=e,i.drawImage(u,t(r,u),n(r,u)),i.restore(),r}}function u(t){return r(function(t,n){return t.width-(n.width+10)},function(t,n){return t.height-(n.height+10)},t)}function i(t){return r(function(t,n){return t.width-(n.width+10)},function(t,n){return 10},t)}function o(t){return r(function(t,n){return 10},function(t,n){return t.height-(n.height+10)},t)}function a(t){return r(function(t,n){return 10},function(t,n){return 10},t)}function c(t){return r(function(t,n){return(t.width-n.width)/2},function(t,n){return(t.height-n.height)/2},t)}e.atPos=r,e.lowerRight=u,e.upperRight=i,e.lowerLeft=o,e.upperLeft=a,e.center=c,Object.defineProperty(e,"__esModule",{value:!0})},{}],7:[function(t,n,e){"use strict";var r=function(t){return t&&t.__esModule?t:{"default":t}};Object.defineProperty(e,"__esModule",{value:!0});var u=r(t("./image")),i=r(t("./text")),o=u;e.image=o;var a=i;e.text=a},{"./image":6,"./text":8}],8:[function(t,n,e){"use strict";function r(t,n,e,r,u,i){return i||(i=1),function(o){var a=o.getContext("2d");a.save(),a.globalAlpha=i,a.fillStyle=u,a.font=r;var c=a.measureText(e);return a.fillText(e,t(o,c,a),n(o,c,a)),a.restore(),o}}function u(t,n,e,u,i){return r(function(t,n){return t.width-(n.width+10)},function(t){return i||t.height-10},t,n,e,u)}function i(t,n,e,u,i){return r(function(){return 10},function(t){return i||t.height-10},t,n,e,u)}function o(t,n,e,u,i){return r(function(t,n){return t.width-(n.width+10)},function(){return i||20},t,n,e,u)}function a(t,n,e,u,i){return r(function(){return 10},function(){return i||20},t,n,e,u)}function c(t,n,e,u,i){return r(function(t,n,e){return e.textAlign="center",t.width/2},function(t,n,e){return e.textBaseline="middle",t.height/2},t,n,e,u)}e.atPos=r,e.lowerRight=u,e.lowerLeft=i,e.upperRight=o,e.upperLeft=a,e.center=c,Object.defineProperty(e,"__esModule",{value:!0})},{}]},{},[1]);