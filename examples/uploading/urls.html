<!doctype html>
<html lang="en">
  <head>
    <title>Testing With URLs</title>
    <script src="/scripts/watermark.min.js"></script>
    <script src="/scripts/examples.js"></script>
  </head>
  <body>
    <h1>Uploading a watermarked image from urls</h1>
    <img style="display:block;" id="composite" />
    <progress min="0" max="100" value="0">0% complete</progress>
    <script>

    /**
     * Kudos to html5rocks for supporting CORS everywhere. The main image is a picture of Monsur Hossain
     * and the watermark image is an icon for HTML5 connectivity. Totally arbitrary, but demonstrates things
     * nicely.
     */
    var urls = [
      'http://www.html5rocks.com/static/images/profiles/monsurhossain.png',
      'http://www.html5rocks.com/static/images/identity/classes_64/HTML5_Connectivity_64.png'
    ];

    /********************************************
     * Generate the watermark and upload it.
     *
     * All supporting functions are defined in scripts/examples.js.
     ********************************************/
    watermark(urls, examples.crossOrigin)
      .blob(examples.lowerRight)
      .then(examples.upload);

    </script>
  </body>
</html>
